<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">

<properties>

	<comment>Restaurant Service SQL</comment>
	
	<!-- 1번 식당 음식 조회 -->
	<entry key="select1">
	SELECT MENU_NO, MENU_NM, TO_CHAR(PRICE, 'L999,999') TO_CHAR_PRICE
	FROM CHICKEN
	</entry>
	
	<!-- 2번 식당 음식 조회 -->
	<entry key="select2">
	SELECT MENU_NO, MENU_NM, TO_CHAR(PRICE, 'L999,999') TO_CHAR_PRICE
	FROM CHINESE_RST
	</entry>
	
	<!-- 3번 식당 음식 조회 -->
	<entry key="select3">
	SELECT MENU_NO, MENU_NM, TO_CHAR(PRICE, 'L999,999') TO_CHAR_PRICE
	FROM SUSHI_RST
	</entry>
	
	<!-- 4번 식당 음식 조회 -->
	<entry key="select4">
	SELECT MENU_NO, MENU_NM, TO_CHAR(PRICE, 'L999,999') TO_CHAR_PRICE
	FROM KOREAN_RST
	</entry>
	
	<!-- 메뉴 주문 삽입 -->
	<entry key="insertOrder">
	INSERT INTO ORDER_OF_FOOD
	VALUES(SEQ_ORDER_NO.NEXTVAL, ?, ?, ?, ?, DEFAULT, DEFAULT, DEFAULT)
	</entry>

	<!-- 1번 식당 주문 조회 -->
	<entry key="selectOrder1">
	SELECT ORDER_NO, MENU_NM, NUMBER_OF_MENU, TO_CHAR(PRICE, 'L99,999') TCP,
		   TO_CHAR(PRICE*NUMBER_OF_MENU, 'L99,999') PN, TO_CHAR(ORDER_TIME, 'MM/DD HH:MI') TOCHARTIME, PRICE*NUMBER_OF_MENU P
	FROM ORDER_OF_FOOD O
	JOIN CHICKEN C USING(MENU_NO)
	WHERE O.RESTAURANT_NO = 1
	AND MEMBER_NO = ?
	AND COMPLETE_YN = 'N'
	</entry>
	
	<!-- 2번 식당 주문 조회 -->
	<entry key="selectOrder2">
	SELECT ORDER_NO, MENU_NM, NUMBER_OF_MENU, TO_CHAR(PRICE, 'L99,999') TCP, 
		   TO_CHAR(PRICE*NUMBER_OF_MENU, 'L99,999') PN, TO_CHAR(ORDER_TIME, 'MM/DD HH:MI') TOCHARTIME, PRICE*NUMBER_OF_MENU P
	FROM ORDER_OF_FOOD O
	JOIN CHINESE_RST C USING(MENU_NO)
	WHERE O.RESTAURANT_NO = 2
	AND MEMBER_NO = ?
	AND COMPLETE_YN = 'N'
	</entry>
	
	<!-- 3번 식당 주문 조회 -->
	<entry key="selectOrder3">
	SELECT ORDER_NO, MENU_NM, NUMBER_OF_MENU, TO_CHAR(PRICE, 'L99,999') TCP,
		   TO_CHAR(PRICE*NUMBER_OF_MENU, 'L99,999') PN, TO_CHAR(ORDER_TIME, 'MM/DD HH:MI') TOCHARTIME, PRICE*NUMBER_OF_MENU P
	FROM ORDER_OF_FOOD O
	JOIN SUSHI_RST S USING(MENU_NO)
	WHERE O.RESTAURANT_NO = 3
	AND MEMBER_NO = ?
	AND COMPLETE_YN = 'N'
	</entry>
	
	<!-- 4번 식당 주문 조회 -->
	<entry key="selectOrder4">
	SELECT ORDER_NO, MENU_NM, NUMBER_OF_MENU, TO_CHAR(PRICE, 'L99,999') TCP,
		   TO_CHAR(PRICE*NUMBER_OF_MENU, 'L99,999') PN, TO_CHAR(ORDER_TIME, 'MM/DD HH:MI') TOCHARTIME, PRICE*NUMBER_OF_MENU P
	FROM ORDER_OF_FOOD O
	JOIN KOREAN_RST C USING(MENU_NO)
	WHERE O.RESTAURANT_NO = 4
	AND MEMBER_NO = ?
	AND COMPLETE_YN = 'N'
	</entry>
	
	<!-- 주문 취소 -->
	<entry key="deleteOrder">
	DELETE FROM ORDER_OF_FOOD
	WHERE MEMBER_NO = ?
	AND ORDER_NO = ?
	</entry>
	
	<!-- 주문 수령 확인 -->
	<entry key="checkOrder">
	UPDATE ORDER_OF_FOOD
	SET COMPLETE_YN = 'Y'
	WHERE MEMBER_NO = ?
	AND ORDER_NO = ?
	</entry>
	
	<!-- 주문 수령 내역 1번 -->
	<entry key="selectCompleteOrder1">
	SELECT RESTAURANT_NM, ORDER_NO, MENU_NM, NUMBER_OF_MENU, TO_CHAR(ORDER_TIME, 'MM/DD HH:MI') TOCHARTIME, REVIEW_YN
	FROM ORDER_OF_FOOD O
	JOIN RESTAURANT R ON(O.RESTAURANT_NO = R.RESTAURANT_NO)
	JOIN CHICKEN USING(MENU_NO)
	WHERE O.RESTAURANT_NO = 1
	AND MEMBER_NO = ?
	AND COMPLETE_YN = 'Y'
	</entry>
	
	<entry key="selectCompleteOrder2">
	SELECT RESTAURANT_NM, ORDER_NO, MENU_NM, NUMBER_OF_MENU, TO_CHAR(ORDER_TIME, 'MM/DD HH:MI') TOCHARTIME, REVIEW_YN
	FROM ORDER_OF_FOOD O
	JOIN RESTAURANT R ON(O.RESTAURANT_NO = R.RESTAURANT_NO)
	JOIN CHINESE_RST USING(MENU_NO)
	WHERE O.RESTAURANT_NO = 2
	AND MEMBER_NO = ?
	AND COMPLETE_YN = 'Y'
	</entry>
	
	<entry key="selectCompleteOrder3">
	SELECT RESTAURANT_NM, ORDER_NO, MENU_NM, NUMBER_OF_MENU, TO_CHAR(ORDER_TIME, 'MM/DD HH:MI') TOCHARTIME, REVIEW_YN
	FROM ORDER_OF_FOOD O
	JOIN RESTAURANT R ON(O.RESTAURANT_NO = R.RESTAURANT_NO)
	JOIN SUSHI_RST USING(MENU_NO)
	WHERE O.RESTAURANT_NO = 3
	AND MEMBER_NO = ?
	AND COMPLETE_YN = 'Y'
	</entry>
	
	<entry key="selectCompleteOrder4">
	SELECT RESTAURANT_NM, ORDER_NO, MENU_NM, NUMBER_OF_MENU, TO_CHAR(ORDER_TIME, 'MM/DD HH:MI') TOCHARTIME, REVIEW_YN
	FROM ORDER_OF_FOOD O
	JOIN RESTAURANT R ON(O.RESTAURANT_NO = R.RESTAURANT_NO)
	JOIN KOREAN_RST USING(MENU_NO)
	WHERE O.RESTAURANT_NO = 4
	AND MEMBER_NO = ?
	AND COMPLETE_YN = 'Y'
	</entry>
	

</properties>
